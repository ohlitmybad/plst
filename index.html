


<html>
<head>

	
	<link rel="shortcut icon" type="image/x-icon" href="https://datamb.football/favicon.ico">
	<meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@DataMB_">
    <meta name="twitter:title" content="DataMB | Compare PL Strikers">
    <meta name="twitter:description" content="Generate scatter plots of PL strikers">
    <meta name="twitter:image" content="https://i.imgur.com/p43wTxg.png">
    <meta property="og:image" content="https://i.imgur.com/p43wTxg.png">
	
	<title>DataMB | Compare PL Strikers</title>
	<script src="https://d3js.org/d3.v5.min.js"></script>
	<link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">

<style>


	
  /* Dark Mode Styles */
  body.dark-mode,
  body.dark-mode * {
    color: #f2f2f2;
  }

  body.dark-mode {
    background-color: #0F0F0E;
  }

body.dark-mode .tooltip {
  color: #000000; /* Set the font color to black in dark mode */
  background-color: #f9f9f9;
  border: solid;
  border-width: 1px;
  border-radius: 5px;
  padding: 10px;
  font-size: 12px;
}



 body.dark-mode #search-bar {
    color: #000; /* Specify the desired text color for dark mode */
background-color : #999
  }
	
 body.dark-mode	  #search-bar::placeholder {
    color: #fff; /* Specify the desired color for the placeholder text */
  }

  body.dark-mode svg .x-label {
    /* Override SVG text color */
    fill: #f2f2f2;
  }


  body.dark-mode svg .y-label {
    /* Override SVG text color */
    fill: #f2f2f2;
  }

body.dark-mode select {
  color: #f2f2f2; /* Set the text color to a light color in dark mode */
  background-color: #333333; /* Set the background color to a dark color in dark mode */
}


body.dark-mode .player-name {
  fill: #ffffff; /* Set the fill color to white in dark mode */
}

body.dark-mode button {
  /* Override button background color */
  background-color: #333333;
}

body.dark-mode button,
body.dark-mode button:focus {
  /* Override button text color */
  color: #f2f2f2;
}

body.dark-mode button:hover {
  /* Preserve button hover property */
  color: initial;
}

body.dark-mode .button-8 {
  /* Override button background color */
  background-color: #13293d; /* Dark blue color */
  color: #f2f2f2; /* Off-white color */
}

body.dark-mode .button-8:hover,
body.dark-mode .button-8:focus {
  /* Override button hover and focus state */
  background-color: #3a6ea5; /* Darker blue color */
  color: #f2f2f2; /* Off-white color */
}

body.dark-mode .button-8:hover,
body.dark-mode .button-8:focus {
  /* Override button hover and focus state */
  background-color: #3a6ea5; /* Darker blue color */
  color: #f2f2f2; /* Off-white color */
}


 .dark-mode-toggle {
    position: absolute;
    top: 716.5px;
    left: 684.5px;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background-color: #e0e0de;
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
  }

.dark-mode-toggle .toggle-icon::before {
  font-family: "Ionicons";
  content: "\f467"; /* Unicode value for the moon icon in Ionicons */
  font-size: 35px; /* Adjust the value as needed */
}

body.dark-mode .dark-mode-toggle {
  background-color: #333333;
}




body.dark-mode .dark-mode-toggle .toggle-icon::before {
  font-family: "Ionicons";
  content: "\f3b0"; /* Unicode value for the sun icon in Ionicons */
  font-size: 24px; /* Adjust the value as needed */
}



body.dark-mode .toggle-slider {
  background-color: #2B2C2E; /* Darker background color for dark mode */
}

body.dark-mode input:checked + .toggle-slider:before {
  background-color: #ccc; /* Darker background color for dark mode */
}


circle.highlighted {
  stroke: #ff00ff;
  stroke-width: 3px;
}



circle {
  cursor: pointer;
}

.button-1 {
  align-items: center;
  background-color: #F9F9F9;
  border-radius: 25px;
  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
  box-sizing: border-box;
  color: #121212;
  cursor: pointer;
  display: inline-flex;
  flex: 1 1 auto;
  font-family: Inter,sans-serif;
  font-size: 0.82rem;
  font-weight: 700;
  justify-content: center;
  line-height: 1;
  margin: 0;
  outline: none;
  padding: 1rem 1.2rem;
  text-align: center;
  text-decoration: none;
  transition: box-shadow .1s,-webkit-box-shadow .1s;
  white-space: nowrap;
  border: 0;
  user-select: none;
  position: absolute;
  top: 70px;
  left: 1150px;
  width: 120px; 
 
  touch-action: manipulation;
}

.button-1:hover {
  box-shadow: rgba(0, 0, 0, 0.4) 3px 3px 3px;
}


.button-2 {
  align-items: center;
  background-color: #F9F9F9;
  border-radius: 25px;
  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
  box-sizing: border-box;
  color: #121212;
  cursor: pointer;
  display: inline-flex;
  flex: 1 1 auto;
  font-family: Inter,sans-serif;
  font-size: 0.82rem;
  font-weight: 700;
  justify-content: center;
  line-height: 1;
  margin: 0;
  outline: none;
  padding: 1rem 1.2rem;
  text-align: center;
  text-decoration: none;
  transition: box-shadow .1s,-webkit-box-shadow .1s;
  white-space: nowrap;
  border: 0;
  user-select: none;
  position: absolute;
  top: 135px;
  left: 1150px;
width: 120px; 
 
  touch-action: manipulation;
}

.button-2:hover {
   box-shadow: rgba(0, 0, 0, 0.4) 3px 3px 3px;
}

.button-3 {
  align-items: center;
  background-color: #F9F9F9;
  border-radius: 25px;
  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
  box-sizing: border-box;
  color: #121212;
  cursor: pointer;
  display: inline-flex;
  flex: 1 1 auto;
  font-family: Inter,sans-serif;
  font-size: 0.82rem;
  font-weight: 700;
  justify-content: center;
  line-height: 1;
  margin: 0;
  outline: none;
  padding: 1rem 1.2rem;
  text-align: center;
  text-decoration: none;
  transition: box-shadow .1s,-webkit-box-shadow .1s;
  white-space: nowrap;
  border: 0;
  user-select: none;
  position: absolute;
  top: 200px;
  left: 1150px;
width: 120px;
 
  touch-action: manipulation;
}

.button-3:hover {
   box-shadow: rgba(0, 0, 0, 0.4) 3px 3px 3px;
}

.button-4 {
  align-items: center;
  background-color: #F9F9F9;
  border-radius: 25px;
  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
  box-sizing: border-box;
  color: #121212;
  cursor: pointer;
  display: inline-flex;
  flex: 1 1 auto;
  font-family: Inter,sans-serif;
  font-size: 0.82rem;
  font-weight: 700;
  justify-content: center;
  line-height: 1;
  margin: 0;
  outline: none;
  padding: 1rem 1.2rem;
  text-align: center;
  text-decoration: none;
  transition: box-shadow .1s,-webkit-box-shadow .1s;
  white-space: nowrap;
  border: 0;
  user-select: none;
  position: absolute;
  top: 265px;
  left: 1150px;
width: 120px;
 
  touch-action: manipulation;
}

.button-4:hover {
   box-shadow: rgba(0, 0, 0, 0.4) 3px 3px 3px;
}

.button-5 {
  align-items: center;
  background-color: #F9F9F9;
  border-radius: 25px;
  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
  box-sizing: border-box;
  color: #121212;
  cursor: pointer;
  display: inline-flex;
  flex: 1 1 auto;
  font-family: Inter,sans-serif;
  font-size: 0.82rem;
  font-weight: 700;
  justify-content: center;
  line-height: 1;
  margin: 0;
  outline: none;
  padding: 1rem 1.2rem;
  text-align: center;
  text-decoration: none;
  transition: box-shadow .1s,-webkit-box-shadow .1s;
  white-space: nowrap;
  border: 0;
  user-select: none;
  position: absolute;
  top: 330px;
  left: 1150px;
width: 120px; 
 
  touch-action: manipulation;
}

.button-5:hover {
   box-shadow: rgba(0, 0, 0, 0.4) 3px 3px 3px;
}


.button-6 {
  align-items: center;
  background-color: #F9F9F9;
  border-radius: 25px;
  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
  box-sizing: border-box;
  color: #121212;
  cursor: pointer;
  display: inline-flex;
  flex: 1 1 auto;
  font-family: Inter,sans-serif;
  font-size: 0.82rem;
  font-weight: 700;
  justify-content: center;
  line-height: 1;
  margin: 0;
  outline: none;
  padding: 1rem 1.2rem;
  text-align: center;
  text-decoration: none;
  transition: box-shadow .1s,-webkit-box-shadow .1s;
  white-space: nowrap;
  border: 0;
  user-select: none;
  position: absolute;
  top: 395px;
  left: 1150px;
width: 120px;
 
  touch-action: manipulation;
}

.button-6:hover {
  box-shadow: rgba(0, 0, 0, 0.4) 3px 3px 3px;
}


.button-7 {
  align-items: center;
  background-color: #F9F9F9;
  border-radius: 25px;
  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
  box-sizing: border-box;
  color: #121212;
  cursor: pointer;
  display: inline-flex;
  flex: 1 1 auto;
  font-family: Inter,sans-serif;
  font-size: 0.82rem;
  font-weight: 700;
  justify-content: center;
  line-height: 1;
  margin: 0;
  outline: none;
  padding: 1rem 1.2rem;
  text-align: center;
  text-decoration: none;
  transition: box-shadow .1s,-webkit-box-shadow .1s;
  white-space: nowrap;
  border: 0;
  user-select: none;
  position: absolute;
  top: 460px;
  left: 1150px;
width: 120px;
 
  touch-action: manipulation;
}

.button-7:hover {
  box-shadow: rgba(0, 0, 0, 0.4) 3px 3px 3px;
}

.button-9 {
  align-items: center;
  background-color: #F9F9F9;
  border-radius: 25px;
  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
  box-sizing: border-box;
  color: #121212;
  cursor: pointer;
  display: inline-flex;
  flex: 1 1 auto;
  font-family: Inter,sans-serif;
  font-size: 0.82rem;
  font-weight: 700;
  justify-content: center;
  line-height: 1;
  margin: 0;
  outline: none;
  padding: 1rem 1.2rem;
  text-align: center;
  text-decoration: none;
  transition: box-shadow .1s,-webkit-box-shadow .1s;
  white-space: nowrap;
  border: 0;
  user-select: none;
  position: absolute;
  top: 525px;
  left: 1150px;
width: 120px;
 
  touch-action: manipulation;
}

.button-9:hover {
  box-shadow: rgba(0, 0, 0, 0.4) 3px 3px 3px;
}

.button-8 {
  align-items: center;
  background-color: #1DA1F2;
  border-radius: 25px;
  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
  box-sizing: border-box;
  color: white;
  cursor: pointer;
  display: inline-flex;
  flex: 1 1 auto;
  font-family: Inter,sans-serif;
  font-size: 0.82rem;
  font-weight: 700;
  justify-content: center;
  line-height: 1;
  margin: 0;
  outline: none;
  padding: 1rem 1.2rem;
  text-align: center;
  text-decoration: none;
  transition: box-shadow .1s,-webkit-box-shadow .1s;
  white-space: nowrap;
  border: 0;
  user-select: none;
  position: absolute;
  top: 590px;
  left: 1150px;
 width: 120px; 
  touch-action: manipulation;
}

.button-8:hover {
  box-shadow: rgba(0, 0, 0, 0.4) 3px 3px 3px;
}


#search-bar {
    position: absolute;
    top: 726px; /* Adjust the desired top position */
    left: 760px; /* Adjust the desired left position */
  }


.toggle-button {
  background-color: #f5f5f5;
  color: #333;
  padding: 7px 14px;
  border: 1px solid #ccc;
  border-radius: 4px;
  cursor: pointer;
position: absolute;
top: 717px;
left: 611px;
}

.icon::before {
  content: "\f2b5";
  font-family: "Ionicons"; /* Replace with the appropriate font */
font-size: 22px;
}

	
     img {
            width: 200px;
position: absolute;
top: 235px;
pointer-events: none;
z-index: -1; 
left: 475px;
opacity: .055; 	
}	     
	     
  


  #bottom-container {
    position: absolute;
    top: 890px;
  }	
	

  #bottom-container2 {
    position: absolute;
    top: 1340px;
  }	     
	
		 #bottom-container3 {
    position: absolute;
    top: 890px;
    right: 0px;	  
  }	    

</style>
	
</head>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-PSBMXX80EF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PSBMXX80EF');
</script>

<body>
	 <img src="https://i.imgur.com/UurMbGS.png" alt="Logo">

	<div class="dark-mode-toggle" onclick="toggleDarkMode()">
    <div class="toggle-icon"></div>
  </div>
<svg id="scatter-plot"></svg>
<input type="text" id="search-bar" placeholder="Search player...">
<button id="toggle-median-lines" class="toggle-button"><div class="icon"></div></button>
<script>
   var csvData = `ID,Player,Minutes played,Duels per 90,Duels won %,Successful defensive actions per 90,Defensive duels per 90,Defensive duels won %,Aerial duels per 90,Aerial duels won %,PAdj Sliding tackles,PAdj Interceptions,Fouls per 90,Yellow cards per 90,Successful attacking actions per 90,Goals per 90,Non-penalty goals per 90,xG per 90,Head goals per 90,Shots per 90,Shots on target %,Goal conversion %,Assists per 90,Crosses per 90,Accurate crosses %,Crosses to goalie box per 90,Dribbles per 90,Successful dribbles %,Offensive duels per 90,Offensive duels won %,Touches in box per 90,Progressive runs per 90,Accelerations per 90,Received passes per 90,Received long passes per 90,Fouls suffered per 90,Passes per 90,Accurate passes %,Forward passes per 90,Accurate forward passes %,Back passes per 90,Accurate back passes %,Short / medium passes per 90,Accurate short / medium passes %,Long passes per 90,Accurate long passes %,Average pass length m,Average long pass length m,xA per 90,Shot assists per 90,Second assists per 90,Smart passes per 90,Accurate smart passes %,Key passes per 90,Passes to final third per 90,Accurate passes to final third %,Passes to penalty area per 90,Accurate passes to penalty area %,Through passes per 90,Accurate through passes %,Deep completions per 90,Deep completed crosses per 90,Progressive passes per 90,Accurate progressive passes %,Penalties taken,Penalty conversion %
1,H. Kane,3739,19.28,39.45,2.41,2.05,56.47,4,35.54,0.16,1.46,0.75,0.14,3.88,0.72,0.6,0.52,0.26,2.91,45.45,24.793,0.05,1.01,30.95,0.22,3.37,55,8.71,39.78,3.13,0.72,0.43,15.53,1.42,1.32,19.93,72.95,6.52,63.1,3.23,92.54,16.3,77.25,2.65,61.82,20.37,35.51,0.14,0.87,0.07,1.01,38.1,0.65,4.04,64.29,2.41,55,1.54,37.5,1.08,0.31,3.59,83.89,6,83.333
2,Mohamed Salah,3567,17.89,32.86,2.6,2.45,54.64,1.03,12.2,0.04,2,0.48,0.05,4.29,0.48,0.43,0.51,0.03,2.93,38.79,16.379,0.28,1.72,38.24,0.33,4.11,46.01,10.82,32.63,5.8,2.65,1.01,24.25,3.66,0.83,28.84,78.83,6.23,67.61,8.78,93.68,26.24,82.21,0.93,56.76,14.87,19.67,0.19,1.39,0.2,1.39,43.64,0.81,2.07,67.07,3.61,59.44,1.56,38.71,2.35,0.68,4.04,88.13,4,50
3,M. Gibbs-White,3445,22.13,35.42,4.81,4.34,56.63,5.2,32.66,0.49,2.12,0.89,0.16,3.06,0.13,0.08,0.17,0,1.33,41.18,9.804,0.24,1.41,35.19,0.29,3.76,40.28,8.91,33.14,1.72,1.62,1.02,16.69,1.8,0.78,24.03,73.91,8.1,63.87,4.57,90.86,20.87,78.47,1.8,49.28,17.02,37.06,0.26,1.54,0.05,1.2,41.3,0.68,3.24,70.97,2.33,57.3,1.23,40.43,1.25,0.5,3.71,71.83,2,100
4,O. Watkins,3424,21.08,33.54,3.36,2.79,57.55,4.73,34.44,0.15,2.34,0.68,0.11,2.71,0.39,0.37,0.4,0.08,2.05,57.69,19.231,0.13,0.6,26.09,0.05,2.5,50.53,9.3,30.79,3.63,1.18,0.58,9.02,1.55,1.03,12.96,77.08,2.44,64.52,4.13,85.99,12.17,80.13,0.21,50,12.65,5.63,0.08,0.71,0.05,0.24,44.44,0.39,0.87,66.67,0.63,62.5,0.11,50,0.79,0.13,1.03,61.54,2,50
5,I. Toney,3246,26.98,36.07,3.63,2.52,53.85,7.04,38.19,0.32,2.58,1.44,0.25,2.91,0.55,0.39,0.56,0.06,2.55,43.48,21.739,0.14,1.16,16.67,0.14,2.3,48.19,8.79,34.38,3.6,0.39,0.03,12.01,2.13,2,18.35,66.47,5.68,50.73,3.83,87.68,15.86,72.03,1.36,42.86,15.45,28.91,0.1,0.53,0,1.19,41.86,0.39,2.88,53.85,1.77,43.75,1.41,37.25,0.94,0.19,2.72,65.31,7,85.714
6,B. Johnson,3168,16.02,39.01,3.49,3.95,53.24,2.16,22.37,0.19,1.37,1.05,0.17,3.72,0.23,0.2,0.27,0,1.48,50,15.385,0.09,2.24,32.91,0.31,3.72,58.78,6.76,41.18,3.15,1.82,1.25,9.26,1.25,0.65,13.55,63.31,2.73,47.92,4.06,84.62,10.8,71.05,0.68,37.5,17.24,19.84,0.1,0.68,0.09,0.14,40,0.45,0.88,51.61,1.68,49.15,0.2,28.57,0.63,0.68,1.93,57.35,3,33.333
7,B. Mbeumo,3117,20.04,38.04,4.42,4.36,55.63,3.29,29.82,0,2.48,0.78,0.14,3.78,0.26,0.23,0.25,0,2.02,44.29,12.857,0.23,2.71,29.79,0.32,3.72,53.49,9.15,37.22,3.38,1.56,0.72,15.74,2.31,0.72,23.94,72.5,5.43,63.3,6.9,91.63,20.04,80.55,1.36,34.04,16.43,24.83,0.18,1.24,0.17,0.55,15.79,0.64,1.79,59.68,3.12,44.44,0.78,11.11,0.95,0.78,3.38,74.36,1,100
8,M. Rashford,3092,17.14,38.03,3.61,2.79,62.5,2.07,30.99,0.16,2.37,0.49,0.06,4.19,0.49,0.49,0.38,0.09,3.09,46.23,16.038,0.12,0.96,18.18,0.09,5.24,42.78,9.43,36.42,4.25,2.85,1.25,19.59,2.36,0.64,22.35,80.6,4.51,69.68,6.99,93.75,20.4,83.88,1.02,71.43,15.66,26.64,0.11,0.79,0.09,0.64,54.55,0.41,1.54,75.47,2.15,72.97,0.73,40,1.6,0.23,2.71,82.8,0,0
9,D. Solanke,3092,27.04,28.85,3.75,3.38,43.1,4.45,32.03,0,2.59,1.16,0.06,3.11,0.17,0.17,0.34,0,2.01,43.48,8.696,0.17,0.79,33.33,0.06,4.37,42,13.27,27.63,3.81,1.63,1.25,9.72,1.37,1.51,14.06,74.74,3.38,61.21,3.73,90.63,13.13,77.38,0.15,60,14.25,6.7,0.06,0.44,0.06,0.35,41.67,0.23,1.11,63.16,1.05,69.44,0.26,44.44,0.67,0.29,1.72,62.71,0,0
10,E. Haaland,2996,14.6,35.6,1.65,1.41,46.81,3.51,45.3,0.05,1.67,0.9,0.15,2.94,1.08,0.87,0.84,0.21,3.39,52.21,31.858,0.24,0.57,26.32,0.12,1.47,55.1,5.86,33.33,5.83,0.72,0.54,10.9,1.17,0.66,13.25,79.59,2.34,78.21,4.09,84.56,12.5,82.21,0.18,66.67,13.69,3.39,0.12,0.63,0.12,0.42,50,0.54,0.66,81.82,1.08,69.44,0.39,46.15,1.29,0.15,1.05,71.43,7,100
11,P. Billing,2974,17.61,47.94,8.56,5.81,60.94,3.12,51.46,0.58,5.07,0.91,0.15,1.63,0.21,0.21,0.15,0,1.09,50,19.444,0.03,1.21,22.5,0.15,1.57,48.08,5.54,39.34,1.91,1,0.3,19.19,1.12,1.03,28.87,81.76,8.41,69.78,6.36,91.9,26.09,85.96,1.72,54.39,15.9,26.16,0.11,0.61,0.03,0.24,25,0.27,3.06,70.3,1.15,42.11,0.42,28.57,0.57,0.24,3.51,68.1,0,0
12,J. Ayew,2933,32.04,41,7.46,7.18,57.26,4.76,29.03,0.57,3.56,1.47,0.15,4.08,0.12,0.12,0.1,0.06,0.95,38.71,12.903,0.09,1.66,29.63,0.25,5.83,54.21,16.08,38.93,2.76,2.18,1.32,16.91,1.9,2.7,24.98,82.43,5,66.26,8.81,94.77,22.68,87.69,0.64,33.33,14.55,19.97,0.08,0.61,0.03,0.25,25,0.34,1.78,63.79,1.38,51.11,0.28,0,0.77,0.49,2.49,70.37,0,0
13,K. Havertz,2800,21.31,38.01,4.6,4.24,46.21,5.82,46.96,0.3,3.83,1.8,0.16,2.48,0.23,0.19,0.36,0.1,2.03,50.79,11.111,0,0.8,24,0.16,2.31,48.61,7.01,30.73,4.53,1.22,0.45,20.48,1.9,0.8,26.04,85.06,4.69,77.4,8.1,93.65,24.62,87.21,0.64,75,14.34,17.28,0.09,0.77,0.06,0.26,50,0.42,2.03,82.54,1.16,77.78,0.35,72.73,1.25,0.16,2.48,72.73,1,100
14,W. Zaha,2479,30.61,41.64,5.23,5.99,57.58,0.87,20.83,0,2.19,1.23,0.18,6.28,0.25,0.25,0.29,0,2.32,32.81,10.938,0.04,1.92,30.19,0.15,8.46,55.79,19.93,40.26,3.96,2.61,0.58,16.12,1.74,2.8,22.84,78.22,4.03,70.27,6.61,91.21,20.62,82.92,0.4,54.55,15.79,12.83,0.09,0.69,0.11,0.65,33.33,0.33,1.16,65.63,2.25,74.19,0.54,26.67,1.52,0.51,3.12,79.07,2,0
15,L. Trossard,2439,15.87,37.91,4.39,3.39,56.52,0.96,23.08,0,4.01,0.77,0.04,4.54,0.3,0.3,0.24,0,1.96,41.51,15.094,0.37,2.8,40.79,0.44,3.99,50.93,8.78,36.55,4.65,2.36,1.4,26.31,1.4,1.11,33.51,76.21,8.19,65.77,7.42,87.56,28.19,80.37,2.51,69.12,16.81,27.98,0.24,1.44,0.07,1.33,41.67,0.85,3.14,72.94,3.95,57.01,1.48,37.5,1.85,1.11,6.13,75.9,0,0
16,Gabriel Jesus,2222,32.69,34.08,4.94,4.9,52.89,4.94,31.15,0.06,3.7,1.66,0.24,4.46,0.45,0.41,0.64,0.16,2.84,45.71,15.714,0.24,0.97,33.33,0.16,5.59,47.83,16.2,32.5,6.32,1.66,0.73,18.92,0.85,2.23,26.13,82.95,4.5,72.97,8.34,89.81,24.18,85.59,0.97,66.67,16.16,24.27,0.11,0.85,0.08,0.41,40,0.65,1.86,73.91,1.7,61.9,0.53,30.77,1.5,0.28,2.35,79.31,1,100
17,C. Adams,2185,26.36,33.59,2.39,2.64,42.19,7.95,36.27,0.16,1.53,1.57,0.04,1.65,0.21,0.21,0.24,0.08,1.73,33.33,11.905,0.12,0.66,37.5,0.16,1.03,52,9.19,27.8,3.38,0.25,0.12,11.86,2.55,0.99,18.33,74.83,3.91,65.26,4.57,85.59,16.48,77.5,1.24,56.67,15.85,24.91,0.11,0.78,0,0.45,63.64,0.37,1.85,62.22,1.07,53.85,0.58,57.14,0.82,0.25,1.69,73.17,0,0
18,A. Mitrović,2175,32.07,37.03,3.39,2.81,55.88,9.39,43.17,0.11,2.34,1.41,0.29,2.81,0.58,0.41,0.65,0.25,3.43,42.17,16.867,0.08,0.25,50,0,2.4,44.83,12.46,26.25,4.59,0.83,0.12,11.05,1.74,1.53,18,70.57,4.18,53.47,4.01,89.69,15.97,73.06,1.78,51.16,15.53,30.29,0.04,0.25,0,0.41,40,0.25,2.48,61.67,0.87,47.62,0.54,23.08,0.5,0.12,2.07,62,8,50
19,Rodrigo,2113,16.82,36.2,4.05,3.92,56.52,5.28,29.03,0.11,2.27,1.19,0.26,2.73,0.55,0.51,0.32,0.13,2.6,42.62,21.311,0,1.19,32.14,0.21,2.34,43.64,4.94,32.76,4.17,1.11,0.77,15.5,1.66,0.51,21.13,74.8,3.79,60.67,6.47,88.16,18.53,78.39,1.45,61.76,15.98,25.23,0.05,0.38,0,0.77,27.78,0.3,1.45,50,1.92,46.67,0.85,35,0.98,0.43,2.6,68.85,1,100
20,R. Sterling,2045,20.02,39.56,3.3,3.87,47.73,0.88,35,0.14,2.18,0.92,0.18,4.67,0.26,0.26,0.36,0,1.89,41.86,13.953,0.13,2.42,25.45,0.31,4.8,57.8,12.01,38.83,4.84,2.9,1.45,22.8,1.67,1.41,29.05,78.03,5.63,67.19,8.85,93.03,26.01,84.26,0.62,21.43,14.31,11.51,0.18,1.19,0,0.97,50,0.75,1.63,72.97,3.08,48.57,0.88,45,1.19,0.62,2.55,77.59,0,0
21,D. Welbeck,2042,15.82,35.1,3.92,2.73,58.06,3.04,40.58,0.07,3.65,1.01,0,1.85,0.26,0.26,0.36,0.13,2.34,37.74,11.321,0.13,0.13,33.33,0.09,1.98,37.78,6.74,29.41,4.28,0.97,0.4,16.4,1.41,0.84,18.56,86.7,3.31,72,5.11,96.55,18.2,87.89,0.22,20,12.55,4.11,0.11,0.88,0.04,0.35,50,0.35,1.76,80,0.93,80.95,0.4,44.44,1.15,0.04,1.37,70.97,0,0
22,J. Vardy,2040,15.75,34.45,3.62,2.38,57.41,6.18,38.57,0.26,2.43,0.88,0.04,1.41,0.13,0.13,0.23,0,1.01,60.87,13.043,0.04,0.66,13.33,0.09,1.76,35,3.62,26.83,2.91,0.49,0.26,6,1.72,0.26,8.87,66.17,1.85,47.62,2.03,86.96,8.03,69.78,0.18,100,15.75,4.13,0.04,0.44,0.04,0.22,40,0.26,0.79,44.44,0.66,33.33,0.18,50,0.66,0.13,0.97,68.18,1,0
23,C. Wilson,2033,21.29,29.94,1.77,2.04,50,3.9,28.41,0.07,1.11,0.93,0.18,2.57,0.8,0.66,0.8,0.13,3.01,52.94,26.471,0.18,0.66,13.33,0,2.17,38.78,9.74,28.18,5.05,0.8,0.53,7.88,1.55,1.24,10.36,67.95,2.21,52,2.57,79.31,9.43,72.3,0.35,50,14.11,9.17,0.15,0.66,0,0.27,16.67,0.49,0.89,55,0.66,60,0.31,14.29,0.8,0,0.62,71.43,3,100
24,M. Antonio,1970,31.34,33.82,3.47,2.79,57.38,7.68,30.95,0.46,1.43,1.23,0.09,3.43,0.23,0.23,0.33,0.14,1.51,39.39,15.152,0.09,1.78,25.64,0.14,4.11,53.33,13.34,35.27,3.11,2.1,1.14,8.13,1.51,1.92,13.93,60.98,3.02,53.03,2.65,81.03,11.65,67.45,0.73,37.5,18.06,15.66,0.1,0.59,0.05,0.41,44.44,0.32,1.78,51.28,1.46,37.5,0.41,44.44,0.46,0.37,1.32,62.07,0,0
25,O. Édouard,1966,24.67,30.24,4.39,3.48,60.53,6.13,27.61,0.3,2.73,1.24,0.14,2.01,0.23,0.23,0.26,0.05,1.56,41.18,14.706,0.05,0.23,20,0,3.2,40,10.39,26.43,3.57,0.92,0.41,11.35,1.56,0.78,17.4,78.42,3.71,56.79,4.94,88.89,17.03,79.57,0.14,33.33,12.41,2.97,0.06,0.64,0.05,0.27,16.67,0.23,1.01,63.64,1.01,45.45,0.23,0,0.78,0.05,1.42,48.39,0,0
26,D. Núñez,1840,21.96,37.86,3.77,3.86,55.7,5.48,41.96,0,2.58,1.13,0.05,4.16,0.44,0.44,0.5,0.15,3.86,44.3,11.392,0.15,1.61,27.27,0.1,3.86,49.37,9.2,33.51,6.85,2.45,0.98,15.02,2.93,0.83,17.95,67.03,3.18,47.69,4.79,86.73,14.92,71.48,1.52,64.52,16.56,18.3,0.18,1.08,0,0.34,28.57,0.93,1.37,50,1.17,25,0.34,28.57,1.37,0.44,1.61,69.7,0,0
27,Y. Wissa,1801,16.74,41.49,3.15,3.1,53.23,3.1,37.1,0.13,1.85,1.1,0.15,2.3,0.35,0.35,0.25,0.15,1.45,51.72,24.138,0.15,0.95,15.79,0.4,2.2,54.55,7.7,37.01,3.15,0.55,0.5,10.44,1.1,1.2,16.29,76.69,3.15,58.73,4.65,89.25,14.34,83.28,1,40,15.53,13.92,0.1,0.55,0.05,0.3,66.67,0.45,1.45,72.41,1.2,41.67,0.55,63.64,0.95,0.15,1.65,60.61,0,0
28,D. Ings,1763,16.44,36.02,4.19,3.42,64.18,3.42,37.31,0.2,2.35,0.92,0.2,1.74,0.41,0.31,0.41,0,1.94,47.37,21.053,0.1,0.46,0,0.15,1.63,40.63,6.79,25.56,3.37,0.56,0.31,10.98,1.79,0.71,14.5,71.83,3.62,56.34,3.78,82.43,13.02,76.86,1.02,40,15.18,16.12,0.09,0.66,0,0.51,30,0.31,1.94,63.16,0.71,35.71,0.66,38.46,0.61,0,1.63,62.5,2,100
29,A. Isak,1666,19.12,35.88,3.4,3.3,40.98,3.24,38.33,0.26,3.03,1.08,0.16,3.78,0.54,0.43,0.51,0.11,2.65,48.98,20.408,0.05,0.86,31.25,0.16,4.32,47.5,9.13,34.91,4.65,2.16,0.81,14.91,1.3,0.76,17.94,79.52,4.27,69.62,4.75,89.77,16.26,81.73,0.86,87.5,15.87,15.4,0.06,0.43,0,0.76,21.43,0.22,1.94,72.22,1.62,46.67,0.81,20,0.76,0.27,2.16,87.5,2,100
30,P. Bamford,1645,24.13,32.65,3.88,3.34,54.1,4.98,36.26,0.21,2.51,1.31,0.16,1.86,0.22,0.22,0.39,0.11,2.35,41.86,9.302,0,0.49,22.22,0.16,2.02,37.84,9.14,28.14,3.56,0.88,0.55,10.83,2.08,1.42,15.7,72.82,3.67,71.64,4.65,84.71,15.1,75,0.11,0,11.57,1.63,0.05,0.38,0,0.16,0,0.33,1.42,73.08,1.09,45,0.11,0,0.88,0.11,1.31,66.67,2,0
31,J. Álvarez,1608,15.84,37.46,4.09,5.15,50,1.96,22.86,0.41,2.35,1.18,0,3.19,0.5,0.45,0.49,0,2.57,43.48,19.565,0,1.79,18.75,0.11,2.41,55.81,6.38,37.72,4.2,1.29,0.62,21.72,1.4,0.84,26.53,81.22,4.2,72,6.38,92.98,23.73,86.32,1.12,65,15.82,17.75,0.08,0.62,0.11,0.67,58.33,0.17,1.68,73.33,1.85,45.45,0.67,58.33,0.9,0.34,2.13,78.95,1,100
32,C. Gakpo,1569,23.63,40.53,5.05,5.68,54.55,3.9,36.76,0.18,2.91,1.43,0,3.21,0.4,0.4,0.36,0,1.95,38.24,20.588,0.11,1.2,14.29,0.23,3.9,54.41,10.78,38.83,3.61,2.29,1.15,17.04,1.15,1.72,20.88,78.85,5.62,73.47,4.93,91.86,19.1,83.78,0.63,45.45,14.34,14.3,0.12,0.86,0.06,0.52,33.33,0.57,2.18,76.32,2.01,48.57,0.75,30.77,1.38,0.17,2.01,85.71,0,0
33,T. Awoniyi,1510,27.18,32.02,4.47,3.64,62.3,5.54,29.03,0,2.3,1.37,0.12,1.49,0.6,0.6,0.49,0.18,1.91,46.88,31.25,0,0.3,0,0,2.26,26.32,10.13,26.47,3.04,0.77,0.48,7.15,1.91,1.19,11.68,72.96,2.21,56.76,3.75,87.3,11.21,76.06,0.18,0,14.17,4.7,0.05,0.54,0.06,0.36,0,0.24,0.95,50,0.66,18.18,0.36,0,0.24,0,0.83,57.14,0,0
34,A. Armstrong,1491,16.06,34.59,4.1,4.1,52.94,1.93,21.88,0.37,1.98,0.97,0.12,2.84,0.12,0.12,0.19,0,1.51,48,8,0.06,1.45,37.5,0.12,4.04,38.81,7.91,32.06,2.72,2.05,1.75,11.11,1.75,0.54,16.78,74.82,2.96,48.98,5.73,91.58,14,81.9,1.39,43.48,13.92,13.82,0.08,0.6,0,0.12,0,0.36,1.27,66.67,0.97,68.75,0.06,100,0.6,0.48,1.57,65.38,0,0
35,K. Moore,1434,30.88,41.46,3.45,3.64,36.21,11.49,48.63,0.36,2.11,1.63,0.06,1.51,0.25,0.25,0.24,0.19,1.44,34.78,17.391,0,0.69,36.36,0,1.57,48,8.6,35.04,2.64,0.44,0.19,9.35,2.26,1.82,16.88,69.89,3.77,60,4.33,88.41,15.38,72.65,0.82,46.15,14.25,12.96,0.02,0.25,0,0.19,0,0.13,2.01,56.25,1,43.75,0.19,0,0.38,0.25,2.07,57.58,0,0
36,Diego Costa,1342,22.73,28.32,3.76,3.55,41.51,7.38,27.27,0.92,2.21,1.88,0.34,1.81,0.07,0.07,0.25,0,1.61,58.33,4.167,0,0.4,0,0,1.54,47.83,6.97,26.92,3.29,0.6,0.27,9.46,1.54,0.6,13.61,76.85,2.15,71.88,4.09,86.89,13.08,79.49,0.13,50,12.82,3.33,0.04,0.67,0,0.27,50,0.27,0.67,70,0.87,46.15,0.27,50,0.6,0,0.87,53.85,0,0
37,Roberto Firmino,1341,17.65,38.78,5.64,4.43,60.61,3.42,31.37,0.31,4.3,0.54,0,4.03,0.74,0.74,0.52,0.13,2.55,63.16,28.947,0.2,1.21,11.11,0.13,2.48,59.46,6.64,35.35,5.91,1.34,0.47,29.66,1.28,0.34,36.11,80.67,9.26,65.94,8.19,90.16,34.09,83.86,0.81,50,13.21,10.16,0.11,0.87,0.13,1.48,54.55,0.34,4.36,81.54,2.55,57.89,1.48,50,1.81,0.13,5.1,72.37,0,0
38,J. Aribo,1320,25.91,41.05,7.16,5.59,68.29,5.73,41.67,0.25,3.83,0.61,0.14,2.11,0.14,0.14,0.16,0,0.82,66.67,16.667,0,0.95,21.43,0.14,2.32,55.88,11.18,31.1,2.45,0.89,0.2,15.27,1.02,0.89,24.34,81.79,6.14,66.67,6.61,94.85,22.77,85.03,0.61,55.56,14.11,9.08,0.06,0.55,0,0.2,33.33,0.41,1.98,62.07,1.5,54.55,0.14,0,0.89,0.2,3.14,76.09,0,0
39,P. Daka,1316,20.04,38.23,5.54,4.86,63.38,5.06,35.14,0.27,2.94,1.71,0.14,2.05,0.27,0.27,0.27,0,1.64,58.33,16.667,0.27,0.75,36.36,0.07,1.37,40,6.43,25.53,3.56,1.3,0.48,12.58,1.37,1.03,16.96,73.39,3.97,50,4.58,85.07,15.73,76.09,0.55,37.5,13.47,6.1,0.11,0.89,0,0.96,28.57,0.68,0.96,64.29,1.3,47.37,0.82,16.67,0.82,0.21,1.5,54.55,0,0
40,E. Nketiah,1286,23.23,34.34,3.64,4.13,54.24,3.92,25,0.49,1.97,2.03,0.21,3.15,0.28,0.28,0.44,0.07,2.38,41.18,11.765,0.07,0.7,30,0.14,3.78,50,10.85,34.19,5.39,1.54,0.91,12.39,1.75,1.75,16.1,82.61,2.31,66.67,5.88,89.29,15.12,85.19,0.28,75,13.3,4.9,0.1,0.63,0,0.07,100,0.49,0.84,75,0.49,71.43,0,0,1.19,0.21,0.84,66.67,0,0
41,Carlos Vinícius,1276,26.31,27.35,2.96,2.68,65.79,7.12,20.79,0,1.58,1.41,0.21,1.48,0.35,0.35,0.29,0.07,1.41,60,25,0.14,0.63,0,0.07,1.41,35,9.95,24.11,3.39,0.56,0.42,7.55,0.63,1.06,11.43,70.99,2.89,60.98,3.6,86.27,10.51,75.84,0.28,50,11.69,4.83,0.05,0.35,0,0.42,33.33,0.35,1.2,47.06,1.06,40,0.42,33.33,0.71,0,1.34,68.42,0,0
42,K. Iheanacho,1263,22.23,27.88,2.92,3.49,46.94,4.28,25,0,1.74,1.21,0,2.85,0.36,0.29,0.38,0.07,2.57,38.89,13.889,0.43,0.5,28.57,0.07,3.14,38.64,11.62,22.7,3.63,1.64,0.71,16.1,1.5,0.36,20.67,80,3.78,64.15,6.7,90.43,19.52,82.48,0.71,40,13.17,8.48,0.21,1.43,0,1,50,0.93,1.85,69.23,1.28,55.56,1.07,33.33,1.43,0.14,2.21,70.97,1,100
43,N. Maupay,1250,21.1,25.6,3.31,3.02,54.76,4.82,19.4,0.19,1.97,1.01,0.29,1.58,0.07,0.07,0.39,0,1.8,44,4,0,0.36,0,0.07,1.22,52.94,8.42,26.5,2.88,0.36,0.29,11.66,1.15,1.51,15.62,81.57,1.87,69.23,5.83,90.12,15.05,83.25,0.22,100,13.84,3.64,0.01,0.22,0.07,0.22,66.67,0,1.3,61.11,0.43,66.67,0.22,66.67,0.58,0.07,1.08,53.33,0,0
44,Diogo Jota,1245,22.12,42.48,6.29,7.01,54.64,4.41,34.43,0.35,3.62,1.37,0.14,3.11,0.51,0.51,0.35,0.07,2.1,44.83,24.138,0.29,0.94,46.15,0.07,3.76,42.31,7.66,37.74,4.05,2.6,1.01,22.34,1.66,1.16,26.24,79.34,6.14,63.53,6.29,96.55,24.22,82.09,1.23,47.06,14.08,14.03,0.08,0.8,0,0.58,25,0.43,2.46,67.65,0.94,61.54,0.8,27.27,0.65,0.36,2.96,63.41,0,0
45,D. Calvert-Lewin,1243,28.24,34.1,2.68,1.59,36.36,13.61,39.36,0.62,1.94,1.52,0.22,2.1,0.14,0.07,0.35,0,1.95,37.04,7.407,0.07,0.8,9.09,0,2.53,45.71,6.88,29.47,3.33,1.01,0.43,8.54,3.19,0.94,12.02,68.67,1.74,58.33,2.53,82.86,11.01,73.03,0.22,66.67,14.08,8.78,0.07,0.29,0,0.22,66.67,0.22,0.36,40,0.72,70,0.22,66.67,0.51,0.14,0.87,66.67,1,100
46,T. Walcott,1242,14.2,39.8,5.22,4.28,62.71,1.38,52.63,0.18,3.04,0.36,0.07,2.17,0.14,0.14,0.16,0,1.38,47.37,10.526,0.14,1.88,26.92,0.36,1.81,44,6.01,27.71,3.19,1.16,0.87,12.97,1.81,0.72,18.12,73.2,4.13,59.65,5.36,95.95,15.72,79.72,0.58,50,16.35,16.31,0.15,1.01,0,0.43,50,0.72,1.3,50,1.3,38.89,0.29,50,0.8,0.43,2.25,64.52,0,0
47,Richarlison,1141,26.58,37.98,5.36,4.97,61.9,4.5,35.09,0.11,3.08,0.87,0.24,3.71,0.08,0.08,0.28,0.08,1.97,52,4,0.24,1.81,39.13,0.24,3.94,44,11.67,31.76,3.79,1.97,0.87,14.12,1.5,1.74,20.74,76.05,4.26,59.26,4.34,87.27,17.75,80.89,1.26,56.25,16.78,12.93,0.11,0.95,0,0.55,42.86,0.63,1.66,80.95,1.58,55,0.55,28.57,0.95,0.63,3,57.89,0,0
48,C. Alcaraz,1114,17.37,32.09,4.28,4.2,48.08,3.88,16.67,0.21,2.68,1.21,0.24,1.78,0.32,0.32,0.19,0,1.94,41.67,16.667,0.16,0.32,25,0.08,1.94,37.5,6.38,32.91,1.78,0.97,0.81,18.58,0.48,1.29,22.38,78.7,4.69,62.07,5.25,93.85,21.17,80.92,0.97,41.67,14.61,17.62,0.04,0.4,0.08,0.24,66.67,0.16,2.59,71.88,0.89,63.64,0.16,50,0.57,0.08,2.34,55.17,0,0
49,K. Sulemana,1059,22.78,41.79,6.03,4.33,62.75,1.95,21.74,0.11,4.25,0.93,0.08,4.5,0.17,0.17,0.16,0,2.04,29.17,8.333,0.08,2.04,25,0.08,6.8,50,12.92,39.47,2.89,3.48,1.53,15.98,0.93,1.1,22.18,77.01,3.99,68.09,6.37,93.33,18.78,84.16,1.53,50,17.03,23.54,0.09,0.68,0.08,0.17,0,0.25,1.87,54.55,1.78,47.62,0.17,0,0.42,0.51,2.38,78.57,0,0
50,A. Martial,1058,18.37,39.81,3.66,2.64,64.52,3.57,38.1,0,2.54,0.68,0,3.23,0.51,0.43,0.44,0.09,1.96,56.52,26.087,0.17,0.6,28.57,0,2.89,58.82,9.61,36.28,3.49,0.94,0.51,22.03,1.28,1.02,26.71,85.35,5.53,83.08,6.29,90.54,25.6,87.04,0.51,66.67,13.59,9.02,0.06,0.6,0.09,1.02,25,0.51,2.72,84.38,1.96,60.87,0.85,30,1.36,0.17,2.81,84.85,1,100
51,E. Ferguson,1042,16.41,33.68,3.37,2.42,60.71,2.76,28.13,0,3.37,0.78,0.09,2.33,0.52,0.52,0.45,0.09,2.85,45.45,18.182,0,0.17,50,0,1.99,43.48,8.03,30.11,3.2,0.78,0.6,15.37,0.95,0.95,17.88,85.99,3.11,72.22,6.39,95.95,17.27,87.5,0.43,40,12.85,8.02,0.06,0.78,0,0.26,33.33,0.09,0.69,50,1.12,61.54,0.17,50,0.69,0.09,1.12,46.15,0,0
52,Matheus Cunha,1040,22.24,37.35,6.14,5.02,48.28,4.33,18,0.5,4.9,1.73,0.09,2.77,0.17,0.17,0.14,0,1.82,33.33,9.524,0,0.95,18.18,0.26,3.63,54.76,8.83,45.1,2.77,1.38,0.52,12.72,1.3,1.73,19.47,73.33,4.15,50,4.67,90.74,17.65,78.43,0.95,27.27,15.47,16.59,0.02,0.26,0,0.43,0,0.09,1.3,60,0.78,44.44,0.43,0,0.26,0.09,2.08,41.67,0,0
53,João Félix,1031,19.29,48.87,3.23,3.67,57.14,1.75,20,1.04,0.9,1.13,0.09,4.98,0.35,0.35,0.37,0,3.93,33.33,8.889,0,0.79,22.22,0.17,6.46,50,11.7,51.49,3.84,2.53,1.31,25.05,1.57,2.62,28.37,82.46,7.51,74.42,6.98,95,25.66,86.39,1.92,54.55,15.65,21.56,0.03,0.26,0.09,0.7,37.5,0.09,4.1,70.21,2.71,51.61,1.57,33.33,1.57,0.17,3.14,94.44,0,0`;


  var rows = csvData.trim().split('\n');
  var header = rows[0].split(',');
  var data = rows.slice(1).map(function(row) {
    return row.split(',').map(function(d) {
      return parseFloat(d);
    });
  });

  var margin = { top: 40, right: 80, bottom: 100, left: 100 };
  var width = 1080 - margin.left - margin.right;
  var height = 720 - margin.top - margin.bottom;

var medianLinesVisible = false;


var container = d3.select("body")
  .append("div")
  .style("position", "relative");

var selectX = container.append("select")
  .attr("id", "select-x")
  .on("change", updateChart)
  .style("position", "absolute")
  .style("left", "80px")
  .style("top", "0px");

var selectY = container.append("select")
  .attr("id", "select-y")
  .on("change", updateChart)
  .style("position", "absolute")
  .style("left", "330px")
  .style("top", "0px");


var xMedian = d3.median(data, function(d) { return d[header.indexOf(xMetric)]; });
var yMedian = d3.median(data, function(d) { return d[header.indexOf(yMetric)]; });




  header.slice(2).forEach(function(metric) {
    selectX.append("option")
      .text(metric)
      .attr("value", metric);
    selectY.append("option")
      .text(metric)
      .attr("value", metric);
  });

  var svg = d3.select("#scatter-plot")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

  var xMetric = header[2];
  var yMetric = header[2];

  var xScale = d3.scaleLinear()
    .domain([0, d3.max(data, function(d) { return d[2]; })])
    .range([0, width]);
  var yScale = d3.scaleLinear()
    .domain([0, d3.max(data, function(d) { return d[2]; })])
    .range([height, 0]);

var xAxis = d3.axisBottom(xScale)
  .tickSize(0); 
var yAxis = d3.axisLeft(yScale)
  .tickSize(0); 

var xExtent = d3.extent(data, function(d) { return d[header.indexOf(xMetric)]; });
var yExtent = d3.extent(data, function(d) { return d[header.indexOf(yMetric)]; });

svg.append("g")
  .attr("transform", "translate(0," + height + ")")
  .call(xAxis)
  .selectAll("text")
  .remove();

svg.append("g")
  .call(yAxis)
  .selectAll("text")
  .remove();

svg.append("text")
  .attr("class", "x-label")
  .attr("text-anchor", "end")
  .attr("x", width)
  .attr("y", height + margin.top)
  .text(header[2])
  .style("font-family", "Arial")
  .style("font-size", "12px");


svg.append("text")
  .attr("class", "y-label")
  .attr("text-anchor", "end")
  .attr("transform", "rotate(-90)")
  .attr("y", -35)
  .attr("x", 0)
  .text(header[2])
  .style("font-family", "Arial")
  .style("font-size", "12px");


svg.append("g")
  .attr("class", "x-axis")
  .attr("transform", "translate(0," + height + ")")
  .call(d3.axisBottom(xScale).tickSize(0));

svg.append("g")
  .attr("class", "y-axis")
  .call(d3.axisLeft(yScale).tickSize(0));


var tooltip = d3.select("body")
  .append("div")
  .attr("class", "tooltip")
  .style("opacity", 0);

tooltip.style("position", "absolute")
  .style("background-color", "#f9f9f9")
  .style("border", "solid")
  .style("border-width", "1px")
  .style("border-radius", "5px")
  .style("padding", "10px")
  .style("font-size", "12px");
	
	document.addEventListener('touchstart', function(event) {
  if (!tooltip.contains(event.target)) {
    tooltip.style.display = 'none';
  }
});

var names = rows.slice(1).map(function(row) {
  return row.split(',')[1];
});


var searchBar = document.getElementById("search-bar");

searchBar.addEventListener("input", function() {
  var searchTerm = searchBar.value.toLowerCase();

  if (searchTerm === '') {
    resetSearch();
    return;
  }

  searchTerm = removeSpecialCharsAndDiacritics(searchTerm);

  circles.classed("highlighted", false);

  circles.filter(function(d, i) {
      var name = removeSpecialCharsAndDiacritics(names[i].toLowerCase());
      return name.includes(searchTerm);
    })
    .classed("highlighted", true);
});

function removeSpecialCharsAndDiacritics(str) {
  return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/[^\w\s]/gi, "");
}






var clickedCircles = []; // array to keep track of clicked circles

var circles = svg.selectAll("circle")
  .data(data)
  .enter()
  .append("circle")
  .attr("cx", function(d) { return xScale(d[header.indexOf(xMetric)]); })
  .attr("cy", function(d) { return yScale(d[header.indexOf(yMetric)]); })
  .attr("r", 8)
  .style("fill", "steelblue")
  .on("mouseover", function(d, i) {
    d3.select(this)
      .classed("hovered", true)
      .style("fill", "red");
      
    tooltip.transition()
      .duration(200)
      .style("opacity", .9);
    tooltip.html(names[i] + "<br/>" + xMetric + ": " + d[header.indexOf(xMetric)] + "<br/>" + yMetric + ": " + d[header.indexOf(yMetric)])
      .style("left", (d3.event.pageX + 10) + "px")
      .style("top", (d3.event.pageY - 28) + "px");
  })
  .on("mouseout", function(d) {
    if (!d3.select(this).classed("clicked")) {
      d3.select(this)
        .classed("hovered", false)
        .style("fill", "steelblue");
    }
    
    tooltip.transition()
      .duration(500)
      .style("opacity", 0);
  })
  .on("click", function(d, i) {
    var clickedIndex = clickedCircles.indexOf(i);
    if (clickedIndex === -1) {
      // circle is not already clicked
      clickedCircles.push(i); // add to clickedCircles array
      d3.select(this)
        .classed("clicked", true) // apply the "clicked" class
        .classed("hovered", false)
        .style("fill", "red");
svg.append("text")
   .attr("x", xScale(d[header.indexOf(xMetric)]) - 20)
   .attr("y", yScale(d[header.indexOf(yMetric)]) + 20)
   .text(names[i])
   .classed("player-name", true)
   .style("font-family", "Arial")
   .style("font-size", "12px");

    } else {
      // circle is already clicked
      clickedCircles.splice(clickedIndex, 1); // remove from clickedCircles array
      d3.select(this)
        .classed("clicked", false) // remove the "clicked" class
        .classed("hovered", false)
        .style("fill", "steelblue");
      d3.selectAll(".player-name")
        .filter(function() {
          return d3.select(this).text() === names[i];
        })
        .remove();
    }
  });



// X-axis median line
var xMedianLine = svg.append("line")
  .attr("class", "x-median")
  .attr("x1", xScale(xMedian))
  .attr("y1", 0)
  .attr("x2", xScale(xMedian))
  .attr("y2", height)
  .style("stroke", "red")
  .style("stroke-dasharray", "4")
  .style("display", medianLinesVisible ? "block" : "none");

// Y-axis median line
var yMedianLine = svg.append("line")
  .attr("class", "y-median")
  .attr("x1", 0)
  .attr("y1", yScale(yMedian))
  .attr("x2", width)
  .attr("y2", yScale(yMedian))
  .style("stroke", "red")
  .style("stroke-dasharray", "4")
  .style("display", medianLinesVisible ? "block" : "none");




function updateChart() {
  xMetric = selectX.property("value");
  yMetric = selectY.property("value");

  xScale.domain(d3.extent(data, function(d) { return d[header.indexOf(xMetric)]; })).nice();
  yScale.domain(d3.extent(data, function(d) { return d[header.indexOf(yMetric)]; })).nice();

  // Remove existing median lines
  svg.selectAll(".median-line").remove();

  // Create new median lines
  if (medianLinesVisible) {
    // Calculate the new medians based on the selected metrics
    var xMedian = d3.median(data, function(d) { return d[header.indexOf(xMetric)]; });
    var yMedian = d3.median(data, function(d) { return d[header.indexOf(yMetric)]; });

    // X-axis median line
    svg.append("line")
      .attr("class", "median-line")
      .attr("x1", xScale(xMedian))
      .attr("y1", 0)
      .attr("x2", xScale(xMedian))
      .attr("y2", height)
      .style("stroke", "red")
      .style("stroke-dasharray", "4");

    // Y-axis median line
    svg.append("line")
      .attr("class", "median-line")
      .attr("x1", 0)
      .attr("y1", yScale(yMedian))
      .attr("x2", width)
      .attr("y2", yScale(yMedian))
      .style("stroke", "red")
      .style("stroke-dasharray", "4");
  }

  svg.select(".x-label")
    .text(xMetric);

  svg.select(".y-label")
    .text(yMetric);

  circles.transition()
    .duration(1000)
    .attr("cx", function(d) { return xScale(d[header.indexOf(xMetric)]); })
    .attr("cy", function(d) { return yScale(d[header.indexOf(yMetric)]); });

  svg.selectAll(".player-name")
    .data(data)
    .join("text")
    .attr("class", "player-name")
    .attr("x", function(d) { return xScale(d[header.indexOf(xMetric)]) - 20; })
    .attr("y", function(d) { return yScale(d[header.indexOf(yMetric)]) + 20; })
    .text(function(d, i) {
      if (clickedCircles.includes(i)) {
        return names[i];
      } else {
        return "";
      }
    })
    .style("font-family", "Arial")
    .style("font-size", "12px");


  svg.select(".x-axis")
    .transition()
    .duration(1000)
    .call(d3.axisBottom(xScale).tickSize(0));

  svg.select(".y-axis")
    .transition()
    .duration(1000)
    .call(d3.axisLeft(yScale).tickSize(0));

  svg.select(".x-median")
    .transition()
    .duration(1000)
    .attr("x1", xScale(xMedian))
    .attr("x2", xScale(xMedian));

  svg.select(".y-median")
    .transition()
    .duration(1000)
    .attr("y1", yScale(yMedian))
    .attr("y2", yScale(yMedian));


}


function resetSearch() {
  searchBar.value = '';
  circles.classed("highlighted", false);
}



function resetMedianLines() {
  svg.selectAll(".median-line").remove();
}


var toggleButton = document.getElementById("toggle-median-lines");
toggleButton.addEventListener("click", function() {
  medianLinesVisible = !medianLinesVisible; // toggle the visibility state

  if (medianLinesVisible) {
    updateChart();
  } else {
    svg.selectAll(".median-line").remove(); // Remove existing median lines
  }
});



</script>

<a href="https://datamb.football/plots/" target="_blank" rel="noopener noreferrer">
  <button class="button-1" role="button">Home</button>
<a href="https://datamb.football/gkpl/" target="_blank" rel="noopener noreferrer">
  <button class="button-2" role="button">Goalkeepers</button>
<a href="https://datamb.football/plcb/" target="_blank" rel="noopener noreferrer">
  <button class="button-3" role="button">Centrebacks</button>
<a href="https://datamb.football/plfb/" target="_blank" rel="noopener noreferrer">
  <button class="button-4" role="button">Fullbacks</button>
<a href="https://datamb.football/plcm/" target="_blank" rel="noopener noreferrer">
  <button class="button-5" role="button">Midfielders</button>
<a href="https://datamb.football/plfw/" target="_blank" rel="noopener noreferrer">
  <button class="button-6" role="button">Wingers</button>
<a href="https://datamb.football/plotteam/" target="_blank" rel="noopener noreferrer">
  <button class="button-7" role="button">Teams</button>
	<a href="https://datamb.football/radars/" target="_blank" rel="noopener noreferrer">
  <button class="button-9" role="button">Radars</button>
<a href="https://twitter.com/DataMB_" target="_blank" rel="noopener noreferrer">
  <button class="button-8" role="button">@DataMB_</button>
</a>
<script>

    // Function to toggle dark mode
    function toggleDarkMode() {
      const body = document.querySelector("body");
      body.classList.toggle("dark-mode");

      // Store the user's preference in local storage
      const isDarkMode = body.classList.contains("dark-mode");
      localStorage.setItem("darkMode", isDarkMode);
    }

    // Check if user has a stored preference for dark mode
    const storedDarkMode = localStorage.getItem("darkMode");

    if (storedDarkMode === "true") {
      const body = document.querySelector("body");
      body.classList.add("dark-mode");
    }

  </script>
		
		
	
	

</body>
</html>

